<div class="container-lg my-4">
  <ng-container *ngIf="products; else loadingOrErrorTemplate">
    <products-nav
      [products]="products"
      (indexChange)="handleIndexChange($event)"
    ></products-nav>
    <product-detail [product]="products[activeSlideIndex]"></product-detail>
  </ng-container>

  <ng-template #loadingOrErrorTemplate>
    <div class="mt-3 text-center">
      <ng-container *ngIf="error">
        <div class="alert alert-danger text-start">{{ error.message }}</div>
      </ng-container>
      <ng-container *ngIf="loading">
        <div class="spinner-border text-primary" role="status">
          <span class="visually-hidden">Loading...</span>
        </div>
      </ng-container>
    </div>
  </ng-template>
</div>
